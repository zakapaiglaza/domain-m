(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
Schema::getColumnListing('domains')
Schema::getColumnListing('domains')
>>>
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
App\Models\Check::all()->toArray()
App\Models\Domain::find(1)->last_checked_at
tail -f storage/logs/laravel.log
App\Models\Domain::count()
class_exists('Admin\Http\Controllers\DomainCrudController')
$role = Spatie\Permission\Models\Role::create(['name' => 'admin']);
$user = App\Models\User::first(); // или создай нового
$user->assignRole('admin');
App\Models\User::count()
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
App\Models\Check::count()
App\Models\Check::latest()->first()->toArray()
App\Models\Check::where('domain_id', 1)->latest()->first()->toArray()
App\Models\Domain::find(1)->last_checked_at
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
App\Models\Check::latest()->get()->toArray()
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
App\Models\Check::latest()->take(5)->get()->toArray()
php artisan tinker
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
App\Models\Check::latest()->take(10)->get()->toArray()
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
(new App\Jobs\CheckDomainsJob())->handle(app(App\Interfaces\DomainRepositoryInterface::class), app(App\Services\CheckService::class));
App\Models\Check::latest()->take(5)->get()->toArray()
use Illuminate\Support\Facades\Cache;
>>> Cache::forget('laravel-scheduler-check-domains-availability-last-run');
use Illuminate\Support\Facades\Cache;
Cache::forget('laravel-scheduler-check-domains-availability-last-run');
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
\App\Models\Domain::all()->pluck('url');
\App\Models\Domain::all()->pluck('url');
\App\Models\Domain::all()->pluck('url');
\App\Models\Domain::all()->pluck('url');
\App\Models\Domain::all()->pluck('name');
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
$user = \App\Models\User::first();
dispatch(new \App\Jobs\CheckDomainsJob($user->id));
DB::table('jobs')->get();
$user = \App\Models\User::first();
$data = [
    'url' => 'https://google.com',
    'interval_minutes' => 4,
    'timeout_seconds' => 2,
    'method' => 'GET',
    'active' => true,
    'user_id' => $user->id,
];
\App\Models\Domain::create($data);
$user = \App\Models\User::first();
$data = [
    'url' => 'https://google.com',
    'interval_minutes' => 4,
    'timeout_seconds' => 2,
    'method' => 'GET',
    'active' => true,
    'user_id' => $user->id,
];
\App\Models\Domain::create($data);
$user = \App\Models\User::first();
$data = [
    'url' => 'https://google.com',
    'interval_minutes' => 4,
    'timeout_seconds' => 2,
    'method' => 'GET',
    'active' => true,
    'user_id' => $user->id,
];
\App\Models\Domain::create($data);
\App\Models\Domain::all()->pluck('url');
$user = \App\Models\User::first();
$data = [
    'url' => 'https://zalupa.com', // новый уникальный URL
    'interval_minutes' => 4,
    'timeout_seconds' => 2,
    'method' => 'GET',
    'active' => true,
    'user_id' => $user->id,
];
\App\Models\Domain::firstOrCreate(['url' => $data['url']], $data);
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
DB::table('jobs')->count();
DB::table('failed_jobs')->count();
dispatch(new \App\Jobs\CheckDomainsJob());
DB::table('jobs')->get();
DB::select("SELECT column_name, data_type FROM information_schema.columns WHERE table_name='jobs'");
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
dispatch(new \App\Jobs\CheckDomainsJob());
tail -f storage/logs/laravel.log
dispatch(new \App\Jobs\CheckDomainsJob());
DB::table('jobs')->get();
